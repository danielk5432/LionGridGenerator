:root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
* { box-sizing: border-box; }
/* 기본 레이아웃 설정 */
html, body {
    height: 100%; /* html과 body의 높이를 브라우저 창 전체 높이로 설정 */
    margin: 0;
    overflow: hidden; /* 페이지 전체에 스크롤바가 생기지 않도록 방지 */
}

/* body를 Flex 컨테이너로 설정 */
body {
    display: flex;
    flex-direction: column; /* 자식 요소(header, main)를 세로로 정렬 */
}

/* main 영역이 남은 공간을 모두 차지하도록 설정 */
main {
    flex: 1; /* header를 제외한 모든 남은 세로 공간을 차지 */
    min-height: 0; /* main 내부 컨텐츠가 main보다 커져도 깨지지 않게 하는 설정 */
    display: grid; /* 기존 레이아웃 유지를 위해 추가 */
    grid-template-columns: 1fr 320px;
    gap: 12px;
    padding: 12px;
}

/* 캔버스 래퍼의 최소 높이 제거 또는 수정 */
#canvasWrapper {
    min-height: auto; /* 기존의 min-height: 600px 를 제거해야 키가 작은 창에서 깨지지 않음 */
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
}
header { padding: 12px 16px; border-bottom: 1px solid #e5e7eb; background: white; position: sticky; top: 0; z-index: 10; }
h1 { margin: 0 0 8px; font-size: 20px; }
.controls { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.controls button:disabled { opacity: 0.5; cursor: not-allowed; }
.legend { margin-top: 6px; display: flex; gap: 12px; color: #444; font-size: 14px; }
main { display: grid; grid-template-columns: 1fr 320px; gap: 12px; padding: 12px; }
#canvasWrapper { background: white; border: 1px solid #e5e7eb; border-radius: 8px; min-height: 600px; overflow: hidden; display: flex; }
#graph { width: 100%; height: 100%; }
#sidebar { background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; }
#graphInput { width: 100%; font-family: 'Courier New', monospace; font-size: 12px; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px; resize: vertical; }

.node { cursor: pointer; }
.node circle { fill: #e2e8f0; stroke: #64748b; stroke-width: 2; }
.node text { font-size: 12px; fill: #334155; pointer-events: none; user-select: none; }
.edge { stroke: #cbd5e1; stroke-width: 2; }
.edge.active { stroke: #94a3b8; }

.node .emoji { font-size: 20px; pointer-events: none; user-select: none; dominant-baseline: middle; alignment-baseline: middle; }
.queue-arrow { 
    stroke: #ef4444; 
    stroke-width: 3;
    opacity: 0.9; 
    cursor: pointer; 
    dominant-baseline: middle;
    alignment-baseline: middle;
}
.arrow-count { font-size: 10px; font-weight: bold; fill: #1f2937; cursor: pointer; pointer-events: all; user-select: none; }
.node .lion-count { font-size: 5px; font-weight: bold; fill: #1f2937; pointer-events: none; user-select: none; dominant-baseline: middle; alignment-baseline: middle; }

.panel { font-size: 14px; color: #444; }
.panel .row { display: flex; justify-content: space-between; margin: 6px 0; }

@media (max-width: 900px) {
  main {
    /* 2열 그리드 -> 1열로 변경 (세로 쌓기) */
    grid-template-columns: 1fr;
    /* 세로 스크롤이 필요할 수 있으므로 main 영역은 스크롤 허용 */
    overflow-y: auto;
  }
}